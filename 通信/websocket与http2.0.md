# WebSocket与HTTP2.0
## WebSocket
### 简介
WebSocket是一种建立在TCP连接之上的全双工通信协议。2011年被IETF定为标准RFC 6455，并由RFC7936补充规范。
WebSocket使得客户端与服务器端之间的数据交换变得简单，允许服务器主动向客户端推送数据。在WebSocket API中，客户端和服务器之间只要完成一次握手就可以建立持久性连接，进行双向数据传输。
### 优点
1. 较少的控制开销。在连接建立后，在客户端和服务器端之间交换数据时，用于协议控制的数据头部相对较小。
2. 更强的实时性。由于协议是全双工的，所以服务器可以随时主动给客户端下发数据。
3. 保持连接状态。与 HTTP 不同的是，WebSocket 需要先建立连接，这使得其成为一种有状态的协议（HTTP 为无状态协议）。之后的通信可以省略部分状态信息。
4. 更好的二进制支持。WebSocket定义了二进制帧（HTTP 2.0也有二进制帧），相对 HTTP 1.1，可以更好地处理二进制内容。
5. 可以支持扩展。WebSocket定义了扩展，用户可以扩展协议，实现自定义子协议。
6. 更好的压缩性。相对于 HTPP 压缩，WebSocket可以在适当的扩展支持下可以沿用之前内容的上下文，在传递类似数据的时候，可以显著提高压缩率。

